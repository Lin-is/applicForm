(function(e){function t(t){for(var i,o,a=t[0],r=t[1],s=t[2],u=0,f=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);p&&p(t);while(f.length)f.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==c[r]&&(i=!1)}i&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},c={app:0},l=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/applicForm/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var p=r;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1725:function(e){e.exports=JSON.parse('{"countries":[{"id":"RU","name":"Россия"},{"id":"DE","name":"Германия"},{"id":"EE","name":"Эстония"}],"types":[{"id":"bis","name":"Деловая виза","price":"20,80"},{"id":"tur","name":"Туристическая виза","price":"10,30"},{"id":"trz","name":"Транзитная виза","price":"50,50"}],"try":[{"id":"single","name":"Одиночный заезд","relative":"RU","price":"2"},{"id":"single","name":"Одиночный заезд","relative":"DE","price":"3,5"},{"id":"single","name":"Одиночный заезд","relative":"EE","price":"4"},{"id":"multi","name":"Многоразовый заезд","relative":"RU","price":"5"},{"id":"multi","name":"Многоразовый заезд","relative":"DE","price":"4"},{"id":"multi","name":"Многоразовый заезд","relative":"EE","price":"3"},{"id":"permanent","name":"Постоянный заезд","relative":"RU","price":"2,5"},{"id":"permanent","name":"Постоянный заезд","relative":"DE","price":"1"},{"id":"permanent","name":"Постоянный заезд","relative":"EE","price":"5"}],"timespent":[{"id":"fast","name":"3 рабочих дня","relative":"RU","price":"5"},{"id":"fast","name":"3 рабочих дня","relative":"DE","price":"7"},{"id":"fast","name":"3 рабочих дня","relative":"EE","price":"9"},{"id":"middle","name":"10 рабочих дней","relative":"RU","price":"10,80"},{"id":"middle","name":"10 рабочих дней","relative":"DE","price":"15"},{"id":"middle","name":"10 рабочих дней","relative":"EE","price":"20"},{"id":"slow","name":"15-30 рабочих дней","relative":"RU","price":"15,70"},{"id":"slow","name":"15-30 рабочих дней","relative":"DE","price":"25"},{"id":"slow","name":"15-30 рабочих дней","relative":"EE","price":"35"}]}')},"1f77":function(e,t,n){},3595:function(e,t,n){"use strict";n("39b6")},"39b6":function(e,t,n){},"49ad":function(e,t,n){"use strict";n("af26")},"55e1":function(e,t,n){"use strict";n("1f77")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function c(e,t,n,c,l,o){var a=Object(i["t"])("ApplicForm");return Object(i["o"])(),Object(i["d"])(a)}n("b0c0");var l=Object(i["f"])("div",{class:"applicForm__triangle"},null,-1),o={class:"applicForm__formContainer"},a={class:"applicForm__stepContainer applicForm__stepContainer_step1"},r=Object(i["f"])("h2",{class:"appplicForm__stepHeader"},"Шаг 1.",-1),s={class:"applicForm__optionsContainer"},p={class:"applicForm__optionsLine"},u={class:"applicForm__optionContainer applicForm__optionContainer_countries"},f={class:"applicForm__optionContainer applicForm__optionContainer_types"},d={class:"applicForm__optionsLine"},m={class:"applicForm__optionContainer applicForm__optionContainer_entryDate"},b={class:"applicForm__optionContainer applicForm__optionContainer_try"},h={class:"applicForm__optionContainer applicForm__optionContainer_timespent"},_={class:"applicForm__resultsContainer"},v={class:"applicForm__outputArea"},O={class:"appplicForm__costContainer"},j=Object(i["f"])("p",{class:"applicForm__prelimText"},[Object(i["e"])(" Предварительная"),Object(i["f"])("br"),Object(i["e"])(" стоимость: ")],-1),y={class:"applicForm__prelimTotal"},I={class:"applicForm__stepContainer applicForm__stepContainer_step2"},C=Object(i["f"])("h2",{class:"appplicForm__stepHeader"},"Шаг 2.",-1),g={class:"applicForm__userName"},F={class:"applicForm__optionsContainer"},D={class:"applicForm__optionsLine"},S={class:"applicForm__optionContainer applicForm__optionContainer_name"},k={class:"applicForm__optionContainer applicForm__optionContainer_surname"},E={class:"applicForm__optionContainer applicForm__optionContainer_birthDate"},V={class:"applicForm__optionContainer applicForm__optionContainer_citizenship"},N={class:"applicForm__resultsContainer"},T={class:"applicForm__outputArea"},x={class:"applicForm__prevInfoContainer"},G=Object(i["f"])("h4",{class:"applicForm__infoTitle"},"Виза",-1),A={class:"applicForm__infoCell"},L={class:"applicForm__prevInfo"},w={class:"applicForm__prevInfo"},U={class:"applicForm__infoCell"},z={class:"applicForm__prevInfo"},q={class:"applicForm__prevInfo"},P={class:"appplicForm__costContainer"},R=Object(i["f"])("p",{class:"applicForm__prelimText"},[Object(i["e"])(" Предварительная"),Object(i["f"])("br"),Object(i["e"])(" стоимость: ")],-1),$={class:"applicForm__prelimTotal"},B={class:"applicForm__buttonsContainer"},J={class:"applicForm__btnContainer"};function M(e,t,n,c,M,H){var K=Object(i["t"])("Selector"),Q=Object(i["t"])("Datepicker"),W=Object(i["t"])("Button"),X=Object(i["t"])("Input");return Object(i["o"])(),Object(i["d"])(i["a"],null,[l,Object(i["f"])("div",o,[Object(i["f"])("form",{class:["applicForm__formElem",{applicForm__formElem_moved:this.isSecondStep}],action:"submit",onSubmit:t[1]||(t[1]=Object(i["C"])((function(){}),["prevent"]))},[Object(i["f"])("div",a,[r,Object(i["f"])("section",s,[Object(i["f"])("div",p,[Object(i["f"])("div",u,[Object(i["f"])(K,{selectName:"countries",options:this.selectData.countries,label:"Выберите страну",onGetValue:H.getCountrie},null,8,["options","onGetValue"])]),Object(i["f"])("div",f,[Object(i["f"])(K,{selectName:"types",options:this.selectData.types,label:"Тип визы",onGetValue:H.getTypes},null,8,["options","onGetValue"])])]),Object(i["f"])("div",d,[Object(i["f"])("div",m,[Object(i["f"])(Q,{datepickName:"entryDate",datepickLabel:"Въезд",onGetValue:H.getEntryDate},null,8,["onGetValue"]),Object(i["f"])(Q,{datepickName:"departureDate",min:this.minDate,datepickLabel:"Выезд",onGetValue:H.getDepartDate},null,8,["min","onGetValue"])]),Object(i["f"])("div",b,[Object(i["f"])(K,{selectName:"try",options:this.filteredTry,label:"Количество заездов",onGetValue:H.getTry},null,8,["options","onGetValue"])]),Object(i["f"])("div",h,[Object(i["f"])(K,{selectName:"timespent",options:this.filteredTimespent,label:"Время обработки",onGetValue:H.getTimespent},null,8,["options","onGetValue"])])])]),Object(i["f"])("section",_,[Object(i["f"])("div",v,[Object(i["f"])("div",O,[j,Object(i["f"])("p",y,Object(i["v"])(this.collectedInfo.cost),1)])]),Object(i["f"])(W,{btnTitle:"Продолжить",btnIsNext:"true",onOnClick:H.toNextStep},null,8,["onOnClick"])])]),Object(i["f"])("div",I,[C,Object(i["f"])("p",g,Object(i["v"])(this.userName),1),Object(i["f"])("section",F,[Object(i["f"])("div",D,[Object(i["f"])("div",S,[Object(i["f"])(X,{label:"Имя",placeholder:"Введите имя",name:"name",onGetValue:H.getName},null,8,["onGetValue"])]),Object(i["f"])("div",k,[Object(i["f"])(X,{label:"Фамилия",placeholder:"Введите фамилию",name:"surname",onGetValue:H.getSurname},null,8,["onGetValue"])]),Object(i["f"])("div",E,[Object(i["f"])(Q,{datepickName:"birthDate",datepickLabel:"Дата рождения",onGetValue:H.getBirthDate},null,8,["onGetValue"])]),Object(i["f"])("div",V,[Object(i["f"])(K,{selectName:"citizenship",options:this.citizenshipList,label:"Гражданство",onGetValue:H.getCitizenship},null,8,["options","onGetValue"])])])]),Object(i["f"])("section",N,[Object(i["f"])("div",T,[Object(i["f"])("div",x,[G,Object(i["f"])("div",A,[Object(i["f"])("p",L,"Страна: "+Object(i["v"])(this.collectedInfo.entryCountry?this.collectedInfo.entryCountry.name:""),1),Object(i["f"])("p",w,"Вид визы: "+Object(i["v"])(this.collectedInfo.visaType?this.collectedInfo.visaType.name:""),1)]),Object(i["f"])("div",U,[Object(i["f"])("p",z,"Въезд: "+Object(i["v"])(this.collectedInfo.entryDate?this.collectedInfo.entryDate:""),1),Object(i["f"])("p",q,"Время обработки: "+Object(i["v"])(this.collectedInfo.timespent?this.collectedInfo.timespent.name:""),1)])]),Object(i["f"])("div",P,[R,Object(i["f"])("p",$,Object(i["v"])(this.collectedInfo.cost),1)])]),Object(i["f"])("div",B,[Object(i["f"])("div",J,[Object(i["f"])(W,{btnTitle:"Вернуться",btnIsNext:"false",onOnClick:H.toPrevStep},null,8,["onOnClick"])]),Object(i["f"])(W,{btnTitle:"Готово",btnIsNext:"true",onOnClick:H.toFinish},null,8,["onOnClick"])])])])],34)])],64)}n("4de4"),n("498a"),n("fb6a"),n("5319"),n("ac1f");var H=n("1725"),K={class:"selector__label"},Q={class:"selector__selectContainer"};function W(e,t,n,c,l,o){var a=this;return Object(i["o"])(),Object(i["d"])("div",{class:["selector__mainContainer",{selector__mainContainer_open:this.inputIsActive}]},[Object(i["f"])("label",K,Object(i["v"])(this.label),1),Object(i["f"])("div",Q,[Object(i["f"])("input",{class:["selector__input",{selector__input_active:this.inputIsActive}],id:"selector__input-"+this.selectName,type:"text",ref:"selectInput",value:this.value.name,placeholder:this.label,onClick:t[1]||(t[1]=function(){return a.initSelection&&a.initSelection.apply(a,arguments)}),onFocus:t[2]||(t[2]=function(e){return a.$refs.select.focus()}),readonly:""},null,42,["id","value","placeholder"]),Object(i["f"])("div",{class:["selector__labelsContainer",{hidden:!this.inputIsActive}],ref:"optionLabels"},[(Object(i["o"])(!0),Object(i["d"])(i["a"],null,Object(i["s"])(this.options,(function(e,n){return Object(i["o"])(),Object(i["d"])("label",{class:["selector__optionLabel",{selector__optionLabel_active:a.value===e.id}],key:n,onClick:t[3]||(t[3]=function(){return a.selectOption&&a.selectOption.apply(a,arguments)}),onKeypress:t[4]||(t[4]=Object(i["B"])((function(){return a.selectOption&&a.selectOption.apply(a,arguments)}),["enter"])),value:e.id,id:"label-"+a.selectName+"-"+e.id},Object(i["v"])(e.name),43,["value","id"])})),128))],2),Object(i["f"])("label",{class:"selector__inputLabel",for:"selector__input-"+this.selectName},null,8,["for"]),Object(i["A"])(Object(i["f"])("select",{ref:"select",class:["selector__select",{selector__select_active:this.inputIsActive}],onKeypress:t[5]||(t[5]=Object(i["B"])((function(){return a.preventEnter&&a.preventEnter.apply(a,arguments)}),["enter"])),"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.value=e}),onChange:t[7]||(t[7]=function(){return a.emitChange&&a.emitChange.apply(a,arguments)})},[(Object(i["o"])(!0),Object(i["d"])(i["a"],null,Object(i["s"])(this.options,(function(e,t){return Object(i["o"])(),Object(i["d"])("option",{class:"selector__option",label:e.name,id:a.selectName+"-"+e.id,value:e.id,key:t},null,8,["label","id","value"])})),128))],34),[[i["x"],this.value]])])],2)}var X=n("3835"),Y=(n("7db0"),n("1276"),{props:{options:{type:Array,required:!0},label:{type:String,require:!0},selectName:{type:String,required:!0}},data:function(){return{value:{name:null},inputIsActive:!1}},computed:{},methods:{emitChange:function(){this.$emit("get-value",this.value)},findOption:function(e){var t=this.options.find((function(t){return t.id===e}));return t},selectOption:function(e){var t=e.target.id.split("-"),n=Object(X["a"])(t,3),i=n[2];this.value=this.findOption(i),this.inputIsActive=!1,this.$refs.select.focus(),this.emitChange()},initSelection:function(){this.$refs.select.focus(),this.inputIsActive=!this.inputIsActive},preventEnter:function(e){e.preventDefault(),this.inputIsActive=!this.inputIsActive}}});n("6b3d");Y.render=W;var Z=Y,ee={class:"input__mainContainer"},te={class:"input__label",for:""};function ne(e,t,n,c,l,o){var a=this;return Object(i["o"])(),Object(i["d"])("div",ee,[Object(i["f"])("label",te,Object(i["v"])(this.label),1),Object(i["A"])(Object(i["f"])("input",{class:"input__inputElem",onChange:t[1]||(t[1]=function(){return a.emitChange&&a.emitChange.apply(a,arguments)}),name:this.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.value=e}),type:"text",placeholder:this.placeholder},null,40,["name","placeholder"]),[[i["y"],l.value]])])}var ie={props:{label:{type:String,required:!0},placeholder:{type:String,required:!0},name:{type:String,required:!0}},data:function(){return{value:null}},methods:{emitChange:function(){this.$emit("get-value",this.value)}}};n("55e1");ie.render=ne;var ce=ie,le={class:"button__innerText"};function oe(e,t,n,c,l,o){var a=this;return Object(i["o"])(),Object(i["d"])("button",{class:["button__btnElem",this.className],onClick:t[1]||(t[1]=function(e){return a.$emit("on-click")})},[Object(i["f"])("p",le,Object(i["v"])(this.btnTitle),1)],2)}var ae={props:{btnTitle:{type:String,required:!0},btnIsNext:{type:String,required:!0}},computed:{className:function(){return this.btnIsNext+""==="true"?"button__btnElem_next":"button__btnElem_prev"}}};n("feee");ae.render=oe;var re=ae,se={class:"datepicker__mainContainer"};function pe(e,t,n,c,l,o){var a=this;return Object(i["o"])(),Object(i["d"])("div",se,[Object(i["f"])("label",{class:"datepicker__label",for:"datepicker-id-"+this.datepickName},Object(i["v"])(this.datepickLabel),9,["for"]),Object(i["A"])(Object(i["f"])("input",{class:"datepicker__input",min:this.min,type:"date",id:"datepicker-id-"+this.datepickName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.value=e}),onChange:t[2]||(t[2]=function(){return a.emitChange&&a.emitChange.apply(a,arguments)})},null,40,["min","id"]),[[i["y"],this.value]])])}var ue={props:{datepickLabel:{type:String,required:!0},datepickName:{type:String,required:!0},min:{type:Date}},data:function(){return{value:null}},methods:{emitChange:function(){this.$emit("get-value",this.value)}}};n("8236");ue.render=pe;var fe=ue,de={components:{Selector:Z,Button:re,Datepicker:fe,Input:ce},data:function(){return{selectData:H,citizenshipList:[{id:"RU",name:"Россия"},{id:"DE",name:"Германия"},{id:"EE",name:"Эстония"}],collectedInfo:{name:"",surname:"",birthDate:null,citizenship:null,entryCountry:null,visaType:null,entryDate:null,departDate:null,try:null,timespent:null,cost:"€0"},isSecondStep:!1,firstStepIsValid:!1,secStepIsValid:!1}},methods:{filterOptions:function(e){var t=this.collectedInfo.entryCountry?this.collectedInfo.entryCountry.id:"RU",n=e.filter((function(e){return e.relative===t}));return n},getCountrie:function(e){this.collectedInfo.entryCountry=e,this.collectedInfo.visaType=null,this.collectedInfo.try=null,this.collectedInfo.timespent=null,this.calcSum()},getTypes:function(e){this.collectedInfo.visaType=e,this.calcSum()},getTry:function(e){this.collectedInfo.try=e,this.calcSum()},getTimespent:function(e){this.collectedInfo.timespent=e,this.calcSum()},getCitizenship:function(e){this.collectedInfo.citizenship=e},getEntryDate:function(e){this.collectedInfo.entryDate=e},getDepartDate:function(e){this.collectedInfo.departDate=e},getBirthDate:function(e){this.collectedInfo.birthDate=e},getName:function(e){var t=e;e&&(e.trim(),t=e[0].toUpperCase(),t+=e.slice(1).toLowerCase()),this.collectedInfo.name=t},getSurname:function(e){var t=e;e&&(e.trim(),t=e[0].toUpperCase(),t+=e.slice(1).toLowerCase()),this.collectedInfo.surname=t},calcSum:function(){var e=0;this.collectedInfo.visaType&&(e+=+this.collectedInfo.visaType.price.replace(/,/,".")),this.collectedInfo.try&&(e+=+this.collectedInfo.try.price.replace(/,/,".")),this.collectedInfo.timespent&&(e+=+this.collectedInfo.timespent.price.replace(/,/,".")),this.collectedInfo.cost="€"+e},checkValid:function(){var e=this.collectedInfo.entryCountry&&this.collectedInfo.visaType&&this.collectedInfo.entryDate&&this.collectedInfo.departDate&&this.collectedInfo.try&&this.collectedInfo.timespent&&"€0"!==this.collectedInfo.cost;this.firstStepIsValid=e;var t=this.firstStepIsValid&&this.collectedInfo.name&&this.collectedInfo.surname&&this.collectedInfo.birthDate&&this.collectedInfo.citizenship;this.secStepIsValid=t},toNextStep:function(){this.checkValid(),this.firstStepIsValid?this.isSecondStep=!0:alert("Заполните все поля")},toPrevStep:function(){this.isSecondStep=!1},toFinish:function(){if(this.checkValid(),this.secStepIsValid){var e={"Имя":this.collectedInfo.name,"Фамилия":this.collectedInfo.surname,"Дата рождения":this.collectedInfo.birthDate,"Гражданство":this.collectedInfo.citizenship.name,"Страна въезда":this.collectedInfo.entryCountry.name,"Тип визы":this.collectedInfo.visaType.name,"Въезд":this.collectedInfo.entryDate,"Выезд":this.collectedInfo.departDate,"Количество заездов":this.collectedInfo.try.name,"Время обработки":this.collectedInfo.timespent.name,"Итоговая стоимость":this.collectedInfo.cost};console.log(JSON.stringify(e))}else alert("Заполните все поля")}},computed:{filteredTry:function(){return this.filterOptions(this.selectData.try)},filteredTimespent:function(){return this.filterOptions(this.selectData.timespent)},userName:function(){var e="Пользователь";return this.collectedInfo.name&&(e=this.collectedInfo.name),this.collectedInfo.surname&&(e+=" "+this.collectedInfo.surname[0].toUpperCase()+"."),e},minDate:function(){var e="";return this.collectedInfo.entryDate&&(e=this.collectedInfo.entryDate),e}}};n("49ad");de.render=M;var me=de,be={components:{ApplicForm:me}};n("3595");be.render=c;var he=be,_e=n("6c02"),ve=[],Oe=Object(_e["a"])({history:Object(_e["b"])("/applicForm/"),routes:ve}),je=Oe;Object(i["c"])(he).use(je).mount("#app")},"6b3d":function(e,t,n){"use strict";n("c1ec")},8236:function(e,t,n){"use strict";n("e36d")},9713:function(e,t,n){},af26:function(e,t,n){},c1ec:function(e,t,n){},e36d:function(e,t,n){},feee:function(e,t,n){"use strict";n("9713")}});
//# sourceMappingURL=app.b499db90.js.map